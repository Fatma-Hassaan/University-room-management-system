@page
@model Project.Pages.Admin.StatsModel
@{
    Layout = "_Layout";
    ViewData["Title"] = "Statistics";
}
 
 



<h2>System Statistics</h2>

<div class="chart-container" style="max-width:600px; margin:0 auto;">
    <!-- Change the id to match your pie chart -->
    <canvas id="pieChart" width="600" height="400"></canvas>
</div>

<div class="row g-3 mt-4">
    <div class="col-sm-6">
        <label class="form-label">Number of Professors</label>
        <input asp-for="ProfessorsCount" class="form-control" readonly />
    </div>
    <div class="col-sm-6">
        <label class="form-label">Number of TAs</label>
        <input asp-for="TAsCount" class="form-control" readonly />
    </div>
    <div class="col-sm-6">
        <label class="form-label">Number of Students</label>
        <input asp-for="StudentsCount" class="form-control" readonly />
    </div>
    <div class="col-sm-6">
        <label class="form-label">Handled Booking Requests</label>
        <input asp-for="HandledBookingRequests" class="form-control" readonly />
    </div>
    <div class="col-sm-6">
        <label class="form-label">Handled Reports</label>
        <input asp-for="HandledReports" class="form-control" readonly />
    </div>
</div>

@section Scripts {
    <!-- 1) Load Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- 2) Render the Doughnut charts -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // User Distribution Chart
            var userCtx = document.getElementById('userDistributionChart').getContext('2d');
            var userConfig = @Html.Raw(Model.UserDistributionChartJson);
            new Chart(userCtx, userConfig);

            // Request Status Chart
            var requestCtx = document.getElementById('requestStatusChart').getContext('2d');
            var requestConfig = @Html.Raw(Model.RequestStatusChartJson);
            new Chart(requestCtx, requestConfig);
        });
    </script>


}
